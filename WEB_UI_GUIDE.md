# Aggregator 管理系统 - Web UI 指南

## 概述

Aggregator 管理系统提供了一个现代化的Web界面，用于管理配置文件和插件。该系统包含以下主要功能：

- 登录认证系统
- 插件管理界面
- 配置文件管理
- 系统状态监控
- 可视化操作界面

## 系统架构

- **前端**：React + TypeScript + Ant Design，运行在端口 14047
- **后端**：Flask API，运行在端口 5000
- **通信协议**：HTTP REST API，通过CORS或代理进行通信

## 快速启动

### 本地开发模式

1. 启动后端服务：
```bash
cd aggregator
python start_ui.py
```

2. 启动前端服务：
```bash
cd aggregator/web
npm install
npm run dev
```

3. 访问 Web UI：
   - 前端地址：http://localhost:14047
   - 默认登录：admin / admin123

### 注意事项

- 后端API服务运行在端口5000
- 前端开发服务器运行在端口14047
- 前端通过代理将API请求转发到后端服务
- 如果端口5000已被占用，start_ui.py会显示警告但不影响功能

## 功能说明

### 登录认证
- 使用用户名/密码进行身份验证
- 支持会话管理
- 登录状态持久化

### 插件管理
- 查看所有插件及其状态
- 启用/禁用插件
- 立即运行插件
- 编辑插件配置（描述、启用状态、定时任务、参数）
- 添加/删除插件

### 配置管理
- 按功能分类管理所有配置
- 系统配置管理
- 插件配置管理
- 实时保存更改

### 状态监控
- 系统运行状态
- 插件运行统计
- 日志查看

## 安全特性

- 所有API端点都需要身份验证
- 使用JWT令牌进行会话管理
- 密码哈希存储
- 防止未授权访问

## 故障排除

### 常见问题

1. **端口占用**：如果端口5000或14047被占用，修改相应的配置文件
2. **登录失败**：检查后端服务是否正常运行
3. **API错误**：确认前端和后端服务都在运行

### 检查服务状态

- 后端健康检查：http://localhost:5000/api/status
- 前端访问：http://localhost:14047

## 部署

如需部署到生产环境，请参考 `DEPLOYMENT_CHECKLIST.md` 和 `DOCKER_DEPLOYMENT_GUIDE.md` 文件。

## 默认凭据

- 用户名：admin
- 密码：admin123

**重要**：首次登录后请立即修改默认密码。

## 技术栈

- **前端**：React 18, TypeScript, Vite, Ant Design
- **后端**：Flask, Python
- **数据库**：本地JSON文件存储
- **构建工具**：npm, Vite